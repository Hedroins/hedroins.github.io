<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    

    
<!-- Tencent Speed -->
<script>var _speedMark = new Date()</script>
<!-- End Tencent Speed -->
<!-- Tencent Analysis -->
<script async src="//tajs.qq.com/stats?sId=true"></script>
<!-- End Tencent Analysis -->


    



    <meta charset="utf-8">
    
    
    
    
    <title>JS学习之CSS操作 | HeJL | just,Try!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="css操作">
    <meta name="description" content="HTML元素的style属性操作 CSS 样式最简单的方法，就是使用网页元素节点的getAttribute方法、setAttribute方法和removeAttribute方法，直接读写或删除网页元素的style属性。 1234div.setAttribute(  &apos;style&apos;,  &apos;background-color:red;&apos; + &apos;border:1px solid black;&apos;); CSS">
<meta name="keywords" content="css操作">
<meta property="og:type" content="article">
<meta property="og:title" content="JS学习之CSS操作">
<meta property="og:url" content="http://hedroins.github.io/2019/08/18/JS学习之CSS操作/index.html">
<meta property="og:site_name" content="HeJL">
<meta property="og:description" content="HTML元素的style属性操作 CSS 样式最简单的方法，就是使用网页元素节点的getAttribute方法、setAttribute方法和removeAttribute方法，直接读写或删除网页元素的style属性。 1234div.setAttribute(  &apos;style&apos;,  &apos;background-color:red;&apos; + &apos;border:1px solid black;&apos;); CSS">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-08-19T07:01:38.900Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JS学习之CSS操作">
<meta name="twitter:description" content="HTML元素的style属性操作 CSS 样式最简单的方法，就是使用网页元素节点的getAttribute方法、setAttribute方法和removeAttribute方法，直接读写或删除网页元素的style属性。 1234div.setAttribute(  &apos;style&apos;,  &apos;background-color:red;&apos; + &apos;border:1px solid black;&apos;); CSS">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">HeJL</h5>
          <a href="mailto:1047867332@qq.com" title="1047867332@qq.com" class="mail">1047867332@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Hedroins" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/custom"  >
                <i class="icon icon-lg icon-link"></i>
                测试
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/dream"  >
                <i class="icon icon-lg icon-dream"></i>
                Dream
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">JS学习之CSS操作</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">JS学习之CSS操作</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-08-18T12:24:25.000Z" itemprop="datePublished" class="page-time">
  2019-08-18
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#HTML元素的style属性"><span class="post-toc-number">1.</span> <span class="post-toc-text">HTML元素的style属性</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#CSSStyleDeclaration接口：用来操作元素的样式"><span class="post-toc-number">2.</span> <span class="post-toc-text">CSSStyleDeclaration接口：用来操作元素的样式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#简介"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">简介</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#CSSStyleDeclaration实例属性"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">CSSStyleDeclaration实例属性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CSSStyleDeclaration-cssText-属性用来读写当前规则的所有样式声明文本"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">CSSStyleDeclaration.cssText:属性用来读写当前规则的所有样式声明文本</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#删除一个元素的所有行内样式，最简单的方法就是设置cssText为空字符串。"><span class="post-toc-number">2.2.1.1.</span> <span class="post-toc-text">删除一个元素的所有行内样式，最简单的方法就是设置cssText为空字符串。</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CSSStyleDeclaration-length-返回一个整数值，表示当前规则包含多少条样式声明。"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">CSSStyleDeclaration.length:返回一个整数值，表示当前规则包含多少条样式声明。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CSSStyleDeclaration-parentRule-属性返回当前规则所属的那个样式块（CSSRule-实例）。如果不存在所属的样式块，该属性返回null。"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">CSSStyleDeclaration.parentRule:属性返回当前规则所属的那个样式块（CSSRule 实例）。如果不存在所属的样式块，该属性返回null。</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#CSSStyleDeclaration实例方法"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">CSSStyleDeclaration实例方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CSSStyleDeclaration-getPropertyPriority-判断有没有设置important优先级。"><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">CSSStyleDeclaration.getPropertyPriority():判断有没有设置important优先级。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CSSStyleDeclaration-getPropertyValue-获取CSS属性值"><span class="post-toc-number">2.3.2.</span> <span class="post-toc-text">CSSStyleDeclaration.getPropertyValue():获取CSS属性值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CSSStyleDeclaration-item-方法接受一个整数值作为参数，返回该位置的-CSS-属性名。"><span class="post-toc-number">2.3.3.</span> <span class="post-toc-text">CSSStyleDeclaration.item():方法接受一个整数值作为参数，返回该位置的 CSS 属性名。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CSSStyleDeclaration-removeProperty-移除CSS属性，并返回属性值"><span class="post-toc-number">2.3.4.</span> <span class="post-toc-text">CSSStyleDeclaration.removeProperty():移除CSS属性，并返回属性值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CSSStyleDeclaration-setProperty-方法用来设置新的-CSS-属性。该方法没有返回值。"><span class="post-toc-number">2.3.5.</span> <span class="post-toc-text">CSSStyleDeclaration.setProperty()方法用来设置新的 CSS 属性。该方法没有返回值。</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#CSS模块的侦测"><span class="post-toc-number">3.</span> <span class="post-toc-text">CSS模块的侦测</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#CSS对象和它的两个静态方法"><span class="post-toc-number">4.</span> <span class="post-toc-text">CSS对象和它的两个静态方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#CSS-escape-用于转义-CSS-选择器里面的特殊字符。"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">CSS.escape():用于转义 CSS 选择器里面的特殊字符。</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#CSS-supports-返回一个布尔值，表示当前环境是否支持某一句-CSS-规则"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">CSS.supports():返回一个布尔值，表示当前环境是否支持某一句 CSS 规则</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#window-getComputedStyle-返回浏览器计算后得到的最终CSS规则"><span class="post-toc-number">5.</span> <span class="post-toc-text">window.getComputedStyle():返回浏览器计算后得到的最终CSS规则</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#CSS伪元素"><span class="post-toc-number">6.</span> <span class="post-toc-text">CSS伪元素</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#StyleSheet接口"><span class="post-toc-number">7.</span> <span class="post-toc-text">StyleSheet接口</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#概述"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">概述</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实例属性"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">实例属性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（1）StyleSheet-disabled：返回一个布尔值，表示该样式表是否处于禁用状态。"><span class="post-toc-number">7.2.1.</span> <span class="post-toc-text">（1）StyleSheet.disabled：返回一个布尔值，表示该样式表是否处于禁用状态。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2）Stylesheet-href返回样式表的网址。对于内嵌样式表，该属性返回null。该属性只读。"><span class="post-toc-number">7.2.2.</span> <span class="post-toc-text">(2）Stylesheet.href返回样式表的网址。对于内嵌样式表，该属性返回null。该属性只读。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（3）StyleSheet-media-属性返回一个类似数组的对象（MediaList实例），成员是表示适用媒介的字符串。"><span class="post-toc-number">7.2.3.</span> <span class="post-toc-text">（3）StyleSheet.media:属性返回一个类似数组的对象（MediaList实例），成员是表示适用媒介的字符串。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-StyleSheet-title-属性返回样式表的title属性。"><span class="post-toc-number">7.2.4.</span> <span class="post-toc-text">(4) StyleSheet.title :属性返回样式表的title属性。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（5）StyleSheet-type-属性返回样式表的type属性，通常是text-css。"><span class="post-toc-number">7.2.5.</span> <span class="post-toc-text">（5）StyleSheet.type  属性返回样式表的type属性，通常是text/css。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（6）StyleSheet-parentStyleSheet"><span class="post-toc-number">7.2.6.</span> <span class="post-toc-text">（6）StyleSheet.parentStyleSheet</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#（7）StyleSheet-ownerNode-返回StyleSheet对象所在的-DOM-节点，通常是-或-。"><span class="post-toc-number">7.2.7.</span> <span class="post-toc-text">（7）StyleSheet.ownerNode:返回StyleSheet对象所在的 DOM 节点，通常是\或\。&lt;/h3&gt;&lt;p&gt;对于那些由其他样式表引用的样式表，该属性为&lt;code&gt;null&lt;/code&gt;。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// HTML代码为&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;link rel=&quot;StyleSheet&quot; href=&quot;example.css&quot; type=&quot;text/css&quot; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.styleSheets[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].ownerNode &lt;span class=&quot;comment&quot;&gt;// [object HTMLLinkElement]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;8）-StyleSheet-cssRules：指向一个类似数组的对象（CSSRuleList实例），里面每一个成员就是当前样式表的一条-CSS-规则&quot;&gt;&lt;a href=&quot;#8）-StyleSheet-cssRules：指向一个类似数组的对象（CSSRuleList实例），里面每一个成员就是当前样式表的一条-CSS-规则&quot; class=&quot;headerlink&quot; title=&quot;(8） StyleSheet.cssRules：指向一个类似数组的对象（CSSRuleList实例），里面每一个成员就是当前样式表的一条 CSS 规则&quot;&gt;&lt;/a&gt;&lt;strong&gt;(8） StyleSheet.cssRules&lt;/strong&gt;：指向一个类似数组的对象（&lt;code&gt;CSSRuleList&lt;/code&gt;实例），里面每一个成员就是当前样式表的一条 CSS 规则&lt;/h3&gt;&lt;p&gt;使用该规则的&lt;code&gt;cssText&lt;/code&gt;属性，可以得到 CSS 规则对应的字符串。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; sheet = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.querySelector(&lt;span class=&quot;string&quot;&gt;&#39;#styleElement&#39;&lt;/span&gt;).sheet;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sheet.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].cssText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;body &amp;#123; background-color: red; margin: 20px; &amp;#125;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sheet.cssRules[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;].cssText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;p &amp;#123; line-height: 1.4em; color: blue; &amp;#125;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;每条 CSS 规则还有一个&lt;code&gt;style&lt;/code&gt;属性，指向一个对象，用来读写具体的 CSS 命令。&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;styleSheet.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].style.color = &lt;span class=&quot;string&quot;&gt;&#39;red&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;styleSheet.cssRules[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;].style.color = &lt;span class=&quot;string&quot;&gt;&#39;purple&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;9-StyleSheet-ownerRule&quot;&gt;&lt;a href=&quot;#9-StyleSheet-ownerRule&quot; class=&quot;headerlink&quot; title=&quot;(9)StyleSheet.ownerRule&quot;&gt;&lt;/a&gt;&lt;strong&gt;(9)StyleSheet.ownerRule&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;有些样式表是通过&lt;code&gt;@import&lt;/code&gt;规则输入的，它的&lt;code&gt;ownerRule&lt;/code&gt;属性会返回一个&lt;code&gt;CSSRule&lt;/code&gt;实例，代表那行&lt;code&gt;@import&lt;/code&gt;规则。如果当前样式表不是通过&lt;code&gt;@import&lt;/code&gt;引入的，&lt;code&gt;ownerRule&lt;/code&gt;属性返回&lt;code&gt;null&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&quot;实例方法&quot;&gt;&lt;a href=&quot;#实例方法&quot; class=&quot;headerlink&quot; title=&quot;实例方法&quot;&gt;&lt;/a&gt;实例方法&lt;/h2&gt;&lt;h3 id=&quot;（1）CSSStyleSheet-insertRule-：方法用于在当前样式表的插入一个新的-CSS-规则&quot;&gt;&lt;a href=&quot;#（1）CSSStyleSheet-insertRule-：方法用于在当前样式表的插入一个新的-CSS-规则&quot; class=&quot;headerlink&quot; title=&quot;（1）CSSStyleSheet.insertRule()：方法用于在当前样式表的插入一个新的 CSS 规则&quot;&gt;&lt;/a&gt;&lt;strong&gt;（1）CSSStyleSheet.insertRule()&lt;/strong&gt;：方法用于在当前样式表的插入一个新的 CSS 规则&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; sheet = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.querySelector(&lt;span class=&quot;string&quot;&gt;&#39;#styleElement&#39;&lt;/span&gt;).sheet;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sheet.insertRule(&lt;span class=&quot;string&quot;&gt;&#39;#block &amp;#123; color: white &amp;#125;&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sheet.insertRule(&lt;span class=&quot;string&quot;&gt;&#39;p &amp;#123; color: red &amp;#125;&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;该方法可以接受两个参数，&lt;u&gt;第一个参数是表示 CSS 规则的字符串，这里只能有一条规则，否则会报错。第二个参数是该规则在样式表的插入位置（从0开始）&lt;/u&gt;，该参数可选，默认为0（即默认插在样式表的头部）&lt;/strong&gt;。&lt;strong&gt;&lt;u&gt;注意，如果插入位置大于现有规则的数目，会报错。&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;该方法的返回值是新插入规则的位置序号。&lt;/p&gt;
&lt;p&gt;注意，浏览器对脚本在样式表里面插入规则有很多&lt;a href=&quot;https://drafts.csswg.org/cssom/#insert-a-css-rule&quot;&gt;限制&lt;/a&gt;。所以，这个方法最好放在&lt;code&gt;try...catch&lt;/code&gt;里使用。&lt;/p&gt;
&lt;h3 id=&quot;（2）CSSStyleSheet-deleteRule&quot;&gt;&lt;a href=&quot;#（2）CSSStyleSheet-deleteRule&quot; class=&quot;headerlink&quot; title=&quot;（2）CSSStyleSheet.deleteRule()&quot;&gt;&lt;/a&gt;&lt;strong&gt;（2）CSSStyleSheet.deleteRule()&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;&lt;code&gt;CSSStyleSheet.deleteRule&lt;/code&gt;方法用来在样式表里面移除一条规则，它的参数是该条规则在&lt;code&gt;cssRules&lt;/code&gt;对象中的位置。该方法没有返回值。&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.styleSheets[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].deleteRule(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;实例：添加样式表&quot;&gt;&lt;a href=&quot;#实例：添加样式表&quot; class=&quot;headerlink&quot; title=&quot;实例：添加样式表&quot;&gt;&lt;/a&gt;实例：添加样式表&lt;/h1&gt;&lt;p&gt;网页添加样式表有两种方式。一种是添加一张内置样式表，即在文档中添加一个&lt;code&gt;&amp;lt;style&amp;gt;&lt;/code&gt;节点。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 写法一&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; style = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;style&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;style.setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;media&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;screen&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;style.innerHTML = &lt;span class=&quot;string&quot;&gt;&#39;body&amp;#123;color:red&amp;#125;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.head.appendChild(style);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 写法二&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; style = (&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; style = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;style&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.head.appendChild(style);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; style;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;style.sheet.insertRule(&lt;span class=&quot;string&quot;&gt;&#39;.foo&amp;#123;color:red;&amp;#125;&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;另一种是添加外部样式表，即在文档中添加一个&lt;code&gt;&amp;lt;link&amp;gt;&lt;/code&gt;节点，然后将&lt;code&gt;href&lt;/code&gt;属性指向外部样式表的 URL。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; linkElm = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;link&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;linkElm.setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;rel&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;stylesheet&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;linkElm.setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;type&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;text/css&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;linkElm.setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;href&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;reset-min.css&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.head.appendChild(linkElm);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;CSSRuleList接口：是一个类似数组的对象，表示一组-CSS-规则，成员都是-CSSRule-实例。&quot;&gt;&lt;a href=&quot;#CSSRuleList接口：是一个类似数组的对象，表示一组-CSS-规则，成员都是-CSSRule-实例。&quot; class=&quot;headerlink&quot; title=&quot;CSSRuleList接口：是一个类似数组的对象，表示一组 CSS 规则，成员都是 CSSRule 实例。&quot;&gt;&lt;/a&gt;CSSRuleList接口：是一个类似数组的对象，表示一组 CSS 规则，成员都是 CSSRule 实例。&lt;/h1&gt;&lt;p&gt;获取 CSSRuleList 实例，一般是通过StyleSheet.cssRules属性。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// HTML 代码如下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;style id=&quot;myStyle&quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//   h1 &amp;#123; color: red; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//   p &amp;#123; color: blue; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;/style&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; myStyleSheet = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;myStyle&#39;&lt;/span&gt;).sheet;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; crl = myStyleSheet.cssRules;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;crl &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; CSSRuleList &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;CSSRuleList 实例里面，&lt;u&gt;每一条规则（CSSRule 实例）可以通过&lt;code&gt;rules.item(index)&lt;/code&gt;或者&lt;code&gt;rules[index]&lt;/code&gt;拿到。&lt;/u&gt;CSS 规则的条数通过&lt;code&gt;rules.length&lt;/code&gt;拿到&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;crl[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; CSSRule &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;crl.length &lt;span class=&quot;comment&quot;&gt;// 2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;注意，添加规则和删除规则不能在 CSSRuleList 实例操作，而要在它的父元素 StyleSheet 实例上，通过&lt;code&gt;StyleSheet.insertRule()&lt;/code&gt;和&lt;code&gt;StyleSheet.deleteRule()&lt;/code&gt;操作。&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&quot;CSSRule接口&quot;&gt;&lt;a href=&quot;#CSSRule接口&quot; class=&quot;headerlink&quot; title=&quot;CSSRule接口&quot;&gt;&lt;/a&gt;CSSRule接口&lt;/h1&gt;&lt;h2 id=&quot;概述-1&quot;&gt;&lt;a href=&quot;#概述-1&quot; class=&quot;headerlink&quot; title=&quot;概述&quot;&gt;&lt;/a&gt;概述&lt;/h2&gt;&lt;p&gt;一条 CSS 规则包括两个部分：CSS 选择器和样式声明。&lt;/p&gt;
&lt;p&gt;JavaScript 通过 CSSRule 接口操作 CSS 规则。一般通过 CSSRuleList 接口（&lt;code&gt;StyleSheet.cssRules&lt;/code&gt;）获取 CSSRule 实例。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// HTML 代码如下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;style id=&quot;myStyle&quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//   .myClass &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//     color: red;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//     background-color: yellow;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//   &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;/style&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; myStyleSheet = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;myStyle&#39;&lt;/span&gt;).sheet;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ruleList = myStyleSheet.cssRules;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rule = ruleList[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rule &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; CSSRule &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;CSSRule实例的属性&quot;&gt;&lt;a href=&quot;#CSSRule实例的属性&quot; class=&quot;headerlink&quot; title=&quot;CSSRule实例的属性&quot;&gt;&lt;/a&gt;CSSRule实例的属性&lt;/h2&gt;&lt;h3 id=&quot;（1）CSSRule-cssText&quot;&gt;&lt;a href=&quot;#（1）CSSRule-cssText&quot; class=&quot;headerlink&quot; title=&quot;（1）CSSRule.cssText&quot;&gt;&lt;/a&gt;&lt;strong&gt;（1）CSSRule.cssText&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;&lt;code&gt;CSSRule.cssText&lt;/code&gt;属性返回当前规则的文本&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;还是使用上面的例子。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rule.cssText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;.myClass &amp;#123; color: red; background-color: yellow; &amp;#125;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如果规则是加载（&lt;code&gt;@import&lt;/code&gt;）其他样式表，&lt;code&gt;cssText&lt;/code&gt;属性返回&lt;code&gt;@import &amp;#39;url&amp;#39;&lt;/code&gt;。&lt;/p&gt;
&lt;h3 id=&quot;2）CSSRule-parentStyleSheet-返回当前规则所在的样式表对象（StyleSheet-实例）&quot;&gt;&lt;a href=&quot;#2）CSSRule-parentStyleSheet-返回当前规则所在的样式表对象（StyleSheet-实例）&quot; class=&quot;headerlink&quot; title=&quot;(2）CSSRule.parentStyleSheet:返回当前规则所在的样式表对象（StyleSheet 实例）&quot;&gt;&lt;/a&gt;&lt;strong&gt;(2）CSSRule.parentStyleSheet&lt;/strong&gt;:返回当前规则所在的&lt;u&gt;样式表对象（StyleSheet 实例）&lt;/u&gt;&lt;/h3&gt;&lt;p&gt;还是使用上面的例子。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rule.parentStyleSheet === myStyleSheet &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;（3）CSSRule-parentRule-返回包含当前规则的父规则，如果不存在父规则（即当前规则是顶层规则），则返回null。&quot;&gt;&lt;a href=&quot;#（3）CSSRule-parentRule-返回包含当前规则的父规则，如果不存在父规则（即当前规则是顶层规则），则返回null。&quot; class=&quot;headerlink&quot; title=&quot;（3）CSSRule.parentRule:返回包含当前规则的父规则，如果不存在父规则（即当前规则是顶层规则），则返回null。&quot;&gt;&lt;/a&gt;&lt;strong&gt;（3）CSSRule.parentRule&lt;/strong&gt;:返回包含当前规则的父规则，如果不存在父规则（即当前规则是顶层规则），则返回null。&lt;/h3&gt;&lt;p&gt;父规则最常见的情况是，当前规则包含在&lt;code&gt;@media&lt;/code&gt;规则代码块之中。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// HTML 代码如下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;style id=&quot;myStyle&quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//   @supports (display: flex) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//     @media screen and (min-width: 900px) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//       article &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//         display: flex;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//       &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//     &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//  &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;/style&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; myStyleSheet = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;myStyle&#39;&lt;/span&gt;).sheet;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ruleList = myStyleSheet.cssRules;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rule0 = ruleList[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rule0.cssText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;@supports (display: flex) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    @media screen and (min-width: 900px) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//      article &amp;#123; display: flex; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#125;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 由于这条规则内嵌其他规则，&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 所以它有 cssRules 属性，且该属性是 CSSRuleList 实例&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rule0.cssRules &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; CSSRuleList &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rule1 = rule0.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rule1.cssText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;@media screen and (min-width: 900px) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//   article &amp;#123; display: flex; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#125;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rule2 = rule1.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rule2.cssText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;article &amp;#123; display: flex; &amp;#125;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rule1.parentRule === rule0 &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rule2.parentRule === rule1 &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;CSSRule-type-返回一个整数值，表示当前规则的类型。&quot;&gt;&lt;a href=&quot;#CSSRule-type-返回一个整数值，表示当前规则的类型。&quot; class=&quot;headerlink&quot; title=&quot;CSSRule.type:返回一个整数值，表示当前规则的类型。&quot;&gt;&lt;/a&gt;CSSRule.type:返回一个整数值，表示当前规则的类型。&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;1：普通样式规则（CSSStyleRule 实例）&lt;/li&gt;
&lt;li&gt;3：&lt;code&gt;@import&lt;/code&gt;规则&lt;/li&gt;
&lt;li&gt;4：&lt;code&gt;@media&lt;/code&gt;规则（CSSMediaRule 实例）&lt;/li&gt;
&lt;li&gt;5：&lt;code&gt;@font-face&lt;/code&gt;规则&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;CSSStyleRule-接口&quot;&gt;&lt;a href=&quot;#CSSStyleRule-接口&quot; class=&quot;headerlink&quot; title=&quot;CSSStyleRule 接口&quot;&gt;&lt;/a&gt;CSSStyleRule 接口&lt;/h2&gt;&lt;p&gt;如果一条 CSS 规则&lt;strong&gt;是普通的样式规则&lt;/strong&gt;（不含特殊的 CSS 命令），那么&lt;strong&gt;除了 CSSRule 接口，它还部署了 CSSStyleRule 接口。&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;相关属性&quot;&gt;&lt;a href=&quot;#相关属性&quot; class=&quot;headerlink&quot; title=&quot;相关属性&quot;&gt;&lt;/a&gt;相关属性&lt;/h3&gt;&lt;h4 id=&quot;（1）CSSStyleRule-selectorText-返回当前规则的选择器。&quot;&gt;&lt;a href=&quot;#（1）CSSStyleRule-selectorText-返回当前规则的选择器。&quot; class=&quot;headerlink&quot; title=&quot;（1）CSSStyleRule.selectorText :返回当前规则的选择器。&quot;&gt;&lt;/a&gt;&lt;strong&gt;（1）CSSStyleRule.selectorText&lt;/strong&gt; :返回当前规则的选择器。&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; stylesheet = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.styleSheets[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;stylesheet.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].selectorText &lt;span class=&quot;comment&quot;&gt;// &quot;.myClass&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;注意，这个属性是可写的。&lt;/p&gt;
&lt;h4 id=&quot;（2）CSSStyleRule-style&quot;&gt;&lt;a href=&quot;#（2）CSSStyleRule-style&quot; class=&quot;headerlink&quot; title=&quot;（2）CSSStyleRule.style&quot;&gt;&lt;/a&gt;&lt;strong&gt;（2）CSSStyleRule.style&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;返回一个对象（CSSStyleDeclaration 实例），&lt;u&gt;代表当前规则的样式声明，也就是选择器后面的大括号里面的部分。&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//HTML 代码为&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;style id=&quot;myStyle&quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//   p &amp;#123; color: red; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;/style&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; styleSheet = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;myStyle&#39;&lt;/span&gt;).sheet;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;styleSheet.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].style &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; CSSStyleDeclaration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;CSSStyleDeclaration 实例的&lt;code&gt;cssText&lt;/code&gt;属性，可以返回所有样式声明，格式为字符串&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;styleSheet.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].style.cssText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;color: red;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;styleSheet.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].selectorText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;p&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;CSSMediaRule接口&quot;&gt;&lt;a href=&quot;#CSSMediaRule接口&quot; class=&quot;headerlink&quot; title=&quot;CSSMediaRule接口&quot;&gt;&lt;/a&gt;CSSMediaRule接口&lt;/h2&gt;&lt;p&gt;如果一条 CSS 规则&lt;strong&gt;是&lt;code&gt;@media&lt;/code&gt;代码块，&lt;/strong&gt;那么它&lt;strong&gt;除了 CSSRule 接口，还部署了 CSSMediaRule 接口。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;该接口主要提供&lt;code&gt;media&lt;/code&gt;属性和&lt;code&gt;conditionText&lt;/code&gt;属性。前者返回代表&lt;code&gt;@media&lt;/code&gt;规则的一个对象（MediaList 实例），后者返回&lt;code&gt;@media&lt;/code&gt;规则的生效条件。&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// HTML 代码如下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;style id=&quot;myStyle&quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//   @media screen and (min-width: 900px) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//     article &amp;#123; display: flex; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//   &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;lt;/style&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; styleSheet = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&#39;myStyle&#39;&lt;/span&gt;).sheet;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;styleSheet.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; CSSMediaRule&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;styleSheet.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].media&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//  &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    0: &quot;screen and (min-width: 900px)&quot;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    appendMedium: function,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    deleteMedium: function,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    item: function,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    length: 1,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//    mediaText: &quot;screen and (min-width: 900px)&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;styleSheet.cssRules[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].conditionText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;screen and (min-width: 900px)&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;window-matchMedia-方法用来将-CSS-的MediaQuery条件语句，转换成一个-MediaQueryList-实例。&quot;&gt;&lt;a href=&quot;#window-matchMedia-方法用来将-CSS-的MediaQuery条件语句，转换成一个-MediaQueryList-实例。&quot; class=&quot;headerlink&quot; title=&quot;window.matchMedia():方法用来将 CSS 的MediaQuery条件语句，转换成一个 MediaQueryList 实例。&quot;&gt;&lt;/a&gt;window.matchMedia():方法用来将 CSS 的MediaQuery条件语句，转换成一个 MediaQueryList 实例。&lt;/h1&gt;&lt;p&gt;注意，如果参数不是有效的&lt;code&gt;MediaQuery&lt;/code&gt;条件语句，&lt;code&gt;window.matchMedia&lt;/code&gt;不会报错，依然返回的一个 MediaQueryList 实例。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.matchMedia(&lt;span class=&quot;string&quot;&gt;&#39;bad string&#39;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; MediaQueryList &lt;span class=&quot;comment&quot;&gt;//true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;MediaQueryList-接口的实例属性&quot;&gt;&lt;a href=&quot;#MediaQueryList-接口的实例属性&quot; class=&quot;headerlink&quot; title=&quot;MediaQueryList 接口的实例属性&quot;&gt;&lt;/a&gt;MediaQueryList 接口的实例属性&lt;/h2&gt;&lt;h3 id=&quot;（1）MediaQueryList-media-属性返回一个字符串，表示对应的-MediaQuery-条件语句&quot;&gt;&lt;a href=&quot;#（1）MediaQueryList-media-属性返回一个字符串，表示对应的-MediaQuery-条件语句&quot; class=&quot;headerlink&quot; title=&quot;（1）MediaQueryList.media:属性返回一个字符串，表示对应的 MediaQuery 条件语句&quot;&gt;&lt;/a&gt;&lt;strong&gt;（1）MediaQueryList.media&lt;/strong&gt;:属性返回一个字符串，表示对应的 MediaQuery 条件语句&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; mql = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.matchMedia(&lt;span class=&quot;string&quot;&gt;&#39;(min-width: 400px)&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mql.media &lt;span class=&quot;comment&quot;&gt;// &quot;(min-width: 400px)&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;（2）MediaQueryList-matches-返回一个布尔值，表示当前页面是否符合指定的-MediaQuery-条件语句。&quot;&gt;&lt;a href=&quot;#（2）MediaQueryList-matches-返回一个布尔值，表示当前页面是否符合指定的-MediaQuery-条件语句。&quot; class=&quot;headerlink&quot; title=&quot;（2）MediaQueryList.matches:返回一个布尔值，表示当前页面是否符合指定的 MediaQuery 条件语句。&quot;&gt;&lt;/a&gt;&lt;strong&gt;（2）MediaQueryList.matches&lt;/strong&gt;:返回一个布尔值，表示当前页面是否符合指定的 MediaQuery 条件语句。&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.matchMedia(&lt;span class=&quot;string&quot;&gt;&#39;(min-width: 400px)&#39;&lt;/span&gt;).matches) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/* 当前视口不小于 400 像素 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/* 当前视口小于 400 像素 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;下面的例子根据&lt;code&gt;mediaQuery&lt;/code&gt;是否匹配当前环境，加载相应的 CSS 样式表。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; result = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.matchMedia(&lt;span class=&quot;string&quot;&gt;&quot;(max-width: 700px)&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (result.matches)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; linkElm = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;link&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  linkElm.setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;rel&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;stylesheet&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  linkElm.setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;type&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;text/css&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  linkElm.setAttribute(&lt;span class=&quot;string&quot;&gt;&#39;href&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;small.css&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.head.appendChild(linkElm);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;（3）MediaQueryList-onchange&quot;&gt;&lt;a href=&quot;#（3）MediaQueryList-onchange&quot; class=&quot;headerlink&quot; title=&quot;（3）MediaQueryList.onchange&quot;&gt;&lt;/a&gt;&lt;strong&gt;（3）MediaQueryList.onchange&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;如果 MediaQuery 条件语句的适配环境发生变化，会触发&lt;code&gt;change&lt;/code&gt;事件。&lt;code&gt;MediaQueryList.onchange&lt;/code&gt;属性用来指定&lt;code&gt;change&lt;/code&gt;事件的监听函数。该函数的参数是&lt;code&gt;change&lt;/code&gt;事件对象（MediaQueryListEvent 实例），该对象与 MediaQueryList 实例类似，也有&lt;code&gt;media&lt;/code&gt;和&lt;code&gt;matches&lt;/code&gt;属性。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; mql = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.matchMedia(&lt;span class=&quot;string&quot;&gt;&#39;(max-width: 600px)&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mql.onchange = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.matches) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/* 视口不超过 600 像素 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/* 视口超过 600 像素 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上面代码中，&lt;code&gt;change&lt;/code&gt;事件发生后，存在两种可能。一种是显示宽度从700像素以上变为以下，另一种是从700像素以下变为以上，所以在监听函数内部要判断一下当前是哪一种情况&lt;/p&gt;
&lt;h2 id=&quot;MediaQueryList-接口的实例方法&quot;&gt;&lt;a href=&quot;#MediaQueryList-接口的实例方法&quot; class=&quot;headerlink&quot; title=&quot;MediaQueryList 接口的实例方法&quot;&gt;&lt;/a&gt;MediaQueryList 接口的实例方法&lt;/h2&gt;&lt;p&gt;MediaQueryList 实例有两个方法&lt;code&gt;MediaQueryList.addListener()&lt;/code&gt;和&lt;code&gt;MediaQueryList.removeListener()&lt;/code&gt;，用来为&lt;code&gt;change&lt;/code&gt;事件添加或撤销监听函数。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; mql = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.matchMedia(&lt;span class=&quot;string&quot;&gt;&#39;(max-width: 600px)&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 指定监听函数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mql.addListener(mqCallback);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 撤销监听函数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mql.removeListener(mqCallback);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;mqCallback&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.matches) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/* 视口不超过 600 像素 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/* 视口超过 600 像素 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;CSS事件&quot;&gt;&lt;a href=&quot;#CSS事件&quot; class=&quot;headerlink&quot; title=&quot;CSS事件&quot;&gt;&lt;/a&gt;CSS事件&lt;/h1&gt;&lt;h2 id=&quot;transitionEnd事件&quot;&gt;&lt;a href=&quot;#transitionEnd事件&quot; class=&quot;headerlink&quot; title=&quot;transitionEnd事件&quot;&gt;&lt;/a&gt;transitionEnd事件&lt;/h2&gt;&lt;p&gt;CSS的过渡效果（transition）结束后，触发&lt;code&gt;transitionEnd&lt;/code&gt;事件。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;el.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;transitionend&#39;&lt;/span&gt;, onTransitionEnd, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onTransitionEnd&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;Transition end&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;transitionEnd&lt;/code&gt;的事件对象具有以下属性。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;propertyName&lt;/code&gt;：发生&lt;code&gt;transition&lt;/code&gt;效果的CSS属性名。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;elapsedTime&lt;/code&gt;：&lt;code&gt;transition&lt;/code&gt;效果持续的秒数，不含&lt;code&gt;transition-delay&lt;/code&gt;的时间。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pseudoElement&lt;/code&gt;：如果&lt;code&gt;transition&lt;/code&gt;效果发生在伪元素，会返回该伪元素的名称，以“::”开头。如果不发生在伪元素上，则返回一个空字符串。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;实际使用&lt;code&gt;transitionend&lt;/code&gt;事件时，可能需要添加浏览器前缀。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;el.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;webkitTransitionEnd&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    el.style.transition = &lt;span class=&quot;string&quot;&gt;&#39;none&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;animationstart事件，animationend事件，animationiteration事件&quot;&gt;&lt;a href=&quot;#animationstart事件，animationend事件，animationiteration事件&quot; class=&quot;headerlink&quot; title=&quot;animationstart事件，animationend事件，animationiteration事件&quot;&gt;&lt;/a&gt;animationstart事件，animationend事件，animationiteration事件&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;animationstart事件：动画开始时触发。&lt;/li&gt;
&lt;li&gt;animationend事件：动画结束时触发。&lt;/li&gt;
&lt;li&gt;animationiteration事件：开始新一轮动画循环时触发。如果animation-iteration-count属性等于1，该事件不触发，即只播放一轮的CSS动画，不会触发animationiteration事件。&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;div.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;animationiteration&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;完成一次动画&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;这三个事件的事件对象，都有animationName属性（返回产生过渡效果的CSS属性名）和elapsedTime属性（动画已经运行的秒数）。&lt;/strong&gt;对于animationstart事件，elapsedTime属性等于0，除非animation-delay属性等于负值。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; el = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&quot;animation&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;el.addEventListener(&lt;span class=&quot;string&quot;&gt;&quot;animationstart&quot;&lt;/span&gt;, listener, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;el.addEventListener(&lt;span class=&quot;string&quot;&gt;&quot;animationend&quot;&lt;/span&gt;, listener, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;el.addEventListener(&lt;span class=&quot;string&quot;&gt;&quot;animationiteration&quot;&lt;/span&gt;, listener, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;listener&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; li = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&quot;li&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt;(e.type) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;animationstart&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      li.innerHTML = &lt;span class=&quot;string&quot;&gt;&quot;Started: elapsed time is &quot;&lt;/span&gt; + e.elapsedTime;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;animationend&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      li.innerHTML = &lt;span class=&quot;string&quot;&gt;&quot;Ended: elapsed time is &quot;&lt;/span&gt; + e.elapsedTime;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;animationiteration&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      li.innerHTML = &lt;span class=&quot;string&quot;&gt;&quot;New loop started at time &quot;&lt;/span&gt; + e.elapsedTime;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&quot;output&quot;&lt;/span&gt;).appendChild(li);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上面代码的运行结果是下面的样子。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Started: elapsed time is 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;New loop started at time 3.01200008392334&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;New loop started at time 6.00600004196167&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Ended: elapsed time is 9.234000205993652&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;animation-play-state属性可以控制动画的状态（暂停/播放），该属性需求加上浏览器前缀。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;element.style.webkitAnimationPlayState = &lt;span class=&quot;string&quot;&gt;&quot;paused&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;element.style.webkitAnimationPlayState = &lt;span class=&quot;string&quot;&gt;&quot;running&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-JS学习之CSS操作"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">JS学习之CSS操作</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-08-18 20:24:25" datetime="2019-08-18T12:24:25.000Z"  itemprop="datePublished">2019-08-18</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="HTML元素的style属性"><a href="#HTML元素的style属性" class="headerlink" title="HTML元素的style属性"></a>HTML元素的style属性</h1><p><strong>操作 CSS 样式最简单的方法，<u>就是使用网页元素节点的<code>getAttribute</code>方法、<code>setAttribute</code>方法和<code>removeAttribute</code>方法</u>，直接读写或删除网页元素的<code>style</code>属性。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">div.setAttribute(</span><br><span class="line">  <span class="string">'style'</span>,</span><br><span class="line">  <span class="string">'background-color:red;'</span> + <span class="string">'border:1px solid black;'</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h1 id="CSSStyleDeclaration接口：用来操作元素的样式"><a href="#CSSStyleDeclaration接口：用来操作元素的样式" class="headerlink" title="CSSStyleDeclaration接口：用来操作元素的样式"></a>CSSStyleDeclaration接口：用来操作元素的样式</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><strong>三个地方部署了这个接口。</strong></p>
<ul>
<li><u>元素节点的<code>style</code>属性（<code>Element.style</code>）。</u></li>
<li><u><code>CSSStyle</code>实例的<code>style</code>属性</u></li>
<li><u><code>window.getComputedStyle()</code>的返回值</u></li>
</ul>
<p><strong><u>CSSStyleDeclaration 接口可以直接读写 CSS 的样式属性，不过，连词号需要变成骆驼拼写法</u></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divStyle = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>).style;</span><br><span class="line"></span><br><span class="line">divStyle.backgroundColor = <span class="string">'red'</span>;</span><br><span class="line">divStyle.border = <span class="string">'1px solid black'</span>;</span><br><span class="line">divStyle.width = <span class="string">'100px'</span>;</span><br><span class="line">divStyle.height = <span class="string">'100px'</span>;</span><br><span class="line">divStyle.fontSize = <span class="string">'10em'</span>;</span><br><span class="line"></span><br><span class="line">divStyle.backgroundColor <span class="comment">// red</span></span><br><span class="line">divStyle.border <span class="comment">// 1px solid black</span></span><br><span class="line">divStyle.height <span class="comment">// 100px</span></span><br><span class="line">divStyle.width <span class="comment">// 100px</span></span><br></pre></td></tr></table></figure>
<p><strong>上面代码中，<code>style</code>属性的值是一个 CSSStyleDeclaration 实例。这个对象所包含的属性与 CSS 规则一一对应，但是名字需要改写，比如<code>background-color</code>写成<code>backgroundColor</code>。(驼峰命名)</strong></p>
<p><strong><u>如果 CSS 属性名是 JavaScript 保留字，则规则名之前需要加上字符串<code>css</code>，比如<code>float</code>写成<code>cssFloat</code></u>。</strong></p>
<p><strong><code>Element.style</code>返回的只是行内样式，并不是该元素的全部样式。通过样式表设置的样式，或者从父元素继承的样式，无法通过这个属性得到。<u>元素的全部样式要通过<code>window.getComputedStyle()</code>得到。</u></strong></p>
<h2 id="CSSStyleDeclaration实例属性"><a href="#CSSStyleDeclaration实例属性" class="headerlink" title="CSSStyleDeclaration实例属性"></a>CSSStyleDeclaration实例属性</h2><h3 id="CSSStyleDeclaration-cssText-属性用来读写当前规则的所有样式声明文本"><a href="#CSSStyleDeclaration-cssText-属性用来读写当前规则的所有样式声明文本" class="headerlink" title="CSSStyleDeclaration.cssText:属性用来读写当前规则的所有样式声明文本"></a>CSSStyleDeclaration.cssText:属性用来读写当前规则的所有样式声明文本</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divStyle = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>).style;</span><br><span class="line"></span><br><span class="line">divStyle.cssText = <span class="string">'background-color: red;'</span> <span class="comment">/*不用采取驼峰命名法改写 CSS 属性名。*/</span></span><br><span class="line">  + <span class="string">'border: 1px solid black;'</span></span><br><span class="line">  + <span class="string">'height: 100px;'</span></span><br><span class="line">  + <span class="string">'width: 100px;'</span>;</span><br></pre></td></tr></table></figure>
<p>注意<strong>，cssText的属性值不用采取驼峰命名法改写 CSS 属性名。</strong></p>
<h4 id="删除一个元素的所有行内样式，最简单的方法就是设置cssText为空字符串。"><a href="#删除一个元素的所有行内样式，最简单的方法就是设置cssText为空字符串。" class="headerlink" title="删除一个元素的所有行内样式，最简单的方法就是设置cssText为空字符串。"></a>删除一个元素的所有行内样式，最简单的方法就是设置cssText为空字符串。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">divStyle.cssText = <span class="string">''</span>;</span><br></pre></td></tr></table></figure>
<h3 id="CSSStyleDeclaration-length-返回一个整数值，表示当前规则包含多少条样式声明。"><a href="#CSSStyleDeclaration-length-返回一个整数值，表示当前规则包含多少条样式声明。" class="headerlink" title="CSSStyleDeclaration.length:返回一个整数值，表示当前规则包含多少条样式声明。"></a>CSSStyleDeclaration.length:返回一个整数值，表示当前规则包含多少条样式声明。</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码如下</span></span><br><span class="line"><span class="comment">// &lt;div id="myDiv"</span></span><br><span class="line"><span class="comment">//   style="margin: 0 10px; background-color: #CA1; border: 1px solid red;"</span></span><br><span class="line"><span class="comment">// &gt;&lt;/div&gt;</span></span><br><span class="line"><span class="keyword">var</span> myDiv = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>);</span><br><span class="line"><span class="keyword">var</span> divStyle = myDiv.style;</span><br><span class="line">divStyles.length <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>myDiv</code>元素的行内样式共包含3条样式规则。</p>
<h3 id="CSSStyleDeclaration-parentRule-属性返回当前规则所属的那个样式块（CSSRule-实例）。如果不存在所属的样式块，该属性返回null。"><a href="#CSSStyleDeclaration-parentRule-属性返回当前规则所属的那个样式块（CSSRule-实例）。如果不存在所属的样式块，该属性返回null。" class="headerlink" title="CSSStyleDeclaration.parentRule:属性返回当前规则所属的那个样式块（CSSRule 实例）。如果不存在所属的样式块，该属性返回null。"></a>CSSStyleDeclaration.parentRule:属性返回当前规则所属的那个样式块（CSSRule 实例）。如果不存在所属的样式块，该属性返回<code>null</code>。</h3><p><u>该属性只读，且只在使用 CSSRule 接口时有意义。</u></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> declaration = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].rules[<span class="number">0</span>].style;</span><br><span class="line">declaration.parentRule === <span class="built_in">document</span>.styleSheets[<span class="number">0</span>].rules[<span class="number">0</span>]</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="CSSStyleDeclaration实例方法"><a href="#CSSStyleDeclaration实例方法" class="headerlink" title="CSSStyleDeclaration实例方法"></a>CSSStyleDeclaration实例方法</h2><h3 id="CSSStyleDeclaration-getPropertyPriority-判断有没有设置important优先级。"><a href="#CSSStyleDeclaration-getPropertyPriority-判断有没有设置important优先级。" class="headerlink" title="CSSStyleDeclaration.getPropertyPriority():判断有没有设置important优先级。"></a>CSSStyleDeclaration.getPropertyPriority():判断有没有设置important优先级。</h3><p><strong>接受 CSS 样式的属性名作为参数，返回一个字符串，</strong> <strong>表示有没有设置<code>important</code>优先级。如果有就返回<code>important</code>，否则返回空字符串。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码为</span></span><br><span class="line"><span class="comment">// &lt;div id="myDiv" style="margin: 10px!important; color: red;"/&gt;</span></span><br><span class="line"><span class="keyword">var</span> style = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>).style;</span><br><span class="line">style.margin <span class="comment">// "10px"</span></span><br><span class="line">style.getPropertyPriority(<span class="string">'margin'</span>) <span class="comment">// "important"</span></span><br><span class="line">style.getPropertyPriority(<span class="string">'color'</span>) <span class="comment">// ""</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，margin属性有important优先级，color属性没有。</p>
<h3 id="CSSStyleDeclaration-getPropertyValue-获取CSS属性值"><a href="#CSSStyleDeclaration-getPropertyValue-获取CSS属性值" class="headerlink" title="CSSStyleDeclaration.getPropertyValue():获取CSS属性值"></a>CSSStyleDeclaration.getPropertyValue():获取CSS属性值</h3><p><strong>方法接受 CSS 样式属性名作为参数，返回一个字符串，表示该属性的属性值。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码为</span></span><br><span class="line"><span class="comment">// &lt;div id="myDiv" style="margin: 10px!important; color: red;"/&gt;</span></span><br><span class="line"><span class="keyword">var</span> style = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>).style;</span><br><span class="line">style.margin <span class="comment">// "10px"</span></span><br><span class="line">style.getPropertyValue(<span class="string">"margin"</span>) <span class="comment">// "10px"</span></span><br></pre></td></tr></table></figure>
<h3 id="CSSStyleDeclaration-item-方法接受一个整数值作为参数，返回该位置的-CSS-属性名。"><a href="#CSSStyleDeclaration-item-方法接受一个整数值作为参数，返回该位置的-CSS-属性名。" class="headerlink" title="CSSStyleDeclaration.item():方法接受一个整数值作为参数，返回该位置的 CSS 属性名。"></a>CSSStyleDeclaration.item():方法接受一个整数值作为参数，返回该位置的 CSS 属性名。</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码为</span></span><br><span class="line"><span class="comment">// &lt;div id="myDiv" style="color: red; background-color: white;"/&gt;</span></span><br><span class="line"><span class="keyword">var</span> style = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>).style;</span><br><span class="line">style.item(<span class="number">0</span>) <span class="comment">// "color"</span></span><br><span class="line">style.item(<span class="number">1</span>) <span class="comment">// "background-color"</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>0</code>号位置的 CSS 属性名是<code>color</code>，<code>1</code>号位置的 CSS 属性名是<code>background-color</code>。<strong>如果未提供参数则报错，参数超过实际数目则返回空字符串。</strong></p>
<h3 id="CSSStyleDeclaration-removeProperty-移除CSS属性，并返回属性值"><a href="#CSSStyleDeclaration-removeProperty-移除CSS属性，并返回属性值" class="headerlink" title="CSSStyleDeclaration.removeProperty():移除CSS属性，并返回属性值"></a>CSSStyleDeclaration.removeProperty():移除CSS属性，并返回属性值</h3><p><strong><code>CSSStyleDeclaration.removeProperty</code>方法接受一个属性名作为参数，在 CSS 规则里面移除这个属性，返回这个属性原来的值。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// HTML 代码为</span><br><span class="line">// &lt;div id=&quot;myDiv&quot; style=&quot;color: red; background-color: white;&quot;&gt;</span><br><span class="line">//   111</span><br><span class="line">// &lt;/div&gt;</span><br><span class="line">var style = document.getElementById(&apos;myDiv&apos;).style;</span><br><span class="line">style.removeProperty(&apos;color&apos;) // &apos;red&apos;</span><br><span class="line">// HTML 代码变为</span><br><span class="line">// &lt;div id=&quot;myDiv&quot; style=&quot;background-color: white;&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>上面代码中，删除<code>color</code>属性以后，字体颜色从红色变成默认颜色。</p>
<h3 id="CSSStyleDeclaration-setProperty-方法用来设置新的-CSS-属性。该方法没有返回值。"><a href="#CSSStyleDeclaration-setProperty-方法用来设置新的-CSS-属性。该方法没有返回值。" class="headerlink" title="CSSStyleDeclaration.setProperty()方法用来设置新的 CSS 属性。该方法没有返回值。"></a>CSSStyleDeclaration.setProperty()方法用来设置新的 CSS 属性。该方法没有返回值。</h3><p>三个参数：</p>
<ul>
<li><strong>第一个参数：属性名，该参数是必需的。</strong></li>
<li><strong>第二个参数：属性值，该参数可选。如果省略，则参数值默认为空字符串。</strong></li>
<li><strong>第三个参数：优先级，该参数可选。如果设置，唯一的合法值是<code>important</code>，表示 CSS 规则里面的<code>!important</code>。</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码为</span></span><br><span class="line"><span class="comment">// &lt;div id="myDiv" style="color: red; background-color: white;"&gt;</span></span><br><span class="line"><span class="comment">//   111</span></span><br><span class="line"><span class="comment">// &lt;/div&gt;</span></span><br><span class="line"><span class="keyword">var</span> style = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>).style;</span><br><span class="line">style.setProperty(<span class="string">'border'</span>, <span class="string">'1px solid blue'</span>);</span><br></pre></td></tr></table></figure>
<p><strong>上面代码执行后，<code>myDiv</code>元素就会出现蓝色的边框。</strong></p>
<h1 id="CSS模块的侦测"><a href="#CSS模块的侦测" class="headerlink" title="CSS模块的侦测"></a>CSS模块的侦测</h1><p><strong>有时候，需要知道当前浏览器是否支持某个模块，这就叫做“CSS模块的侦测”。</strong></p>
<p><strong>如果该 CSS 属性确实存在，会返回一个字符串。即使该属性实际上并未设置，也会返回一个空字符串。如果该属性不存在，则会返回<code>undefined</code>。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.style[<span class="string">'maxWidth'</span>] <span class="comment">// ""</span></span><br><span class="line"><span class="built_in">document</span>.body.style[<span class="string">'maximumWidth'</span>] <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p>上面代码说明，这个浏览器支持<code>max-width</code>属性，但是不支持<code>maximum-width</code>属性。</p>
<p>这种侦测方法可以写成一个函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isPropertySupported</span>(<span class="params">property</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (property <span class="keyword">in</span> <span class="built_in">document</span>.body.style) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">var</span> prefixes = [<span class="string">'Moz'</span>, <span class="string">'Webkit'</span>, <span class="string">'O'</span>, <span class="string">'ms'</span>, <span class="string">'Khtml'</span>];</span><br><span class="line">  <span class="keyword">var</span> prefProperty = property.charAt(<span class="number">0</span>).toUpperCase() + property.substr(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; prefixes.length; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>((prefixes[i] + prefProperty) <span class="keyword">in</span> <span class="built_in">document</span>.body.style) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isPropertySupported(<span class="string">'background-clip'</span>)</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h1 id="CSS对象和它的两个静态方法"><a href="#CSS对象和它的两个静态方法" class="headerlink" title="CSS对象和它的两个静态方法"></a>CSS对象和它的两个静态方法</h1><h2 id="CSS-escape-用于转义-CSS-选择器里面的特殊字符。"><a href="#CSS-escape-用于转义-CSS-选择器里面的特殊字符。" class="headerlink" title="CSS.escape():用于转义 CSS 选择器里面的特殊字符。"></a>CSS.escape():用于转义 CSS 选择器里面的特殊字符。</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"foo#bar"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong><code>CSS.escape</code>方法就用来转义那些特殊字符。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#'</span> + CSS.escape(<span class="string">'foo#bar'</span>))</span><br></pre></td></tr></table></figure>
<h2 id="CSS-supports-返回一个布尔值，表示当前环境是否支持某一句-CSS-规则"><a href="#CSS-supports-返回一个布尔值，表示当前环境是否支持某一句-CSS-规则" class="headerlink" title="CSS.supports():返回一个布尔值，表示当前环境是否支持某一句 CSS 规则"></a>CSS.supports():返回一个布尔值，表示当前环境是否支持某一句 CSS 规则</h2><p>它的参数有两种写法，一种是第一个参数是属性名，第二个参数是属性值；另一种是整个参数就是一行完整的 CSS 语句。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种写法</span></span><br><span class="line">CSS.supports(<span class="string">'transform-origin'</span>, <span class="string">'5px'</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种写法</span></span><br><span class="line">CSS.supports(<span class="string">'display: table-cell'</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>注意，第二种写法的参数结尾不能带有分号，否则结果不准确。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CSS.supports(<span class="string">'display: table-cell;'</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h1 id="window-getComputedStyle-返回浏览器计算后得到的最终CSS规则"><a href="#window-getComputedStyle-返回浏览器计算后得到的最终CSS规则" class="headerlink" title="window.getComputedStyle():返回浏览器计算后得到的最终CSS规则"></a>window.getComputedStyle():返回浏览器计算后得到的最终CSS规则</h1><p><strong>它接受一个节点对象作为参数，返回一个 CSSStyleDeclaration 实例，包含了指定节点的最终样式信息。<u>所谓“最终样式信息”，指的是各种 CSS 规则叠加后的结果。</u></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span><br><span class="line"><span class="keyword">var</span> styleObj = <span class="built_in">window</span>.getComputedStyle(div);</span><br><span class="line">styleObj.backgroundColor</span><br></pre></td></tr></table></figure>
<p>上面代码中，得到的背景色就是<code>div</code>元素真正的背景色。</p>
<p><strong><u>CSSStyleDeclaration 实例是一个活的对象，任何对于样式的修改，会实时反映到这个实例上面。另外，这个实例是只读的</u>。</strong></p>
<p><strong><code>getComputedStyle</code>方法还可以接受第二个参数，表示当前元素的伪元素（比如<code>:before</code>、<code>:after</code>、<code>:first-line</code>、<code>:first-letter</code>等）。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="built_in">window</span>.getComputedStyle(div, <span class="string">':before'</span>);</span><br></pre></td></tr></table></figure>
<p>下面的例子是如何获取元素的高度。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">'elem-container'</span>);</span><br><span class="line"><span class="keyword">var</span> styleObj = <span class="built_in">window</span>.getComputedStyle(elem, <span class="literal">null</span>)</span><br><span class="line"><span class="keyword">var</span> height = styleObj.height;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">var</span> height = styleObj[<span class="string">'height'</span>];</span><br><span class="line"><span class="keyword">var</span> height = styleObj.getPropertyValue(<span class="string">'height'</span>);</span><br></pre></td></tr></table></figure>
<p>上面代码得到的height属性，是浏览器最终渲染出来的高度。</p>
<p>有几点需要注意。</p>
<ul>
<li>CSSStyleDeclaration 实例返回的 CSS 值都是绝对单位。比如，长度都是像素单位（返回值包括<code>px</code>后缀），颜色是<code>rgb(#, #, #)</code>或<code>rgba(#, #, #, #)</code>格式。</li>
</ul>
<ul>
<li><strong>CSS 规则的简写形式无效。比如，想读取<code>margin</code>属性的值，不能直接读，只能读<code>marginLeft</code>、<code>marginTop</code>等属性；再比如，<code>font</code>属性也是不能直接读的，只能读<code>font-size</code>等单个属性。</strong></li>
</ul>
<ul>
<li>如果读取 CSS 原始的属性名，要用方括号运算符，比如<code>styleObj[&#39;z-index&#39;]</code>；如果读取骆驼拼写法的 CSS 属性名，可以直接读取<code>styleObj.zIndex</code>。</li>
</ul>
<ul>
<li>该方法返回的 CSSStyleDeclaration 实例的<code>cssText</code>属性无效，返回<code>undefined</code>。</li>
</ul>
<h1 id="CSS伪元素"><a href="#CSS伪元素" class="headerlink" title="CSS伪元素"></a>CSS伪元素</h1><p>CSS 伪元素是通过 CSS 向 DOM 添加的元素，主要是通过<code>:before</code>和<code>:after</code>选择器生成，然后用<code>content</code>属性指定伪元素的内容。</p>
<p>下面是一段 HTML 代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"test"</span>&gt;Test content&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>
<p>CSS 添加伪元素<code>:before</code>的写法如下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#test:before &#123;</span><br><span class="line">  content: <span class="string">'Before '</span>;</span><br><span class="line">  color: #FF0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>节点元素的<code>style</code>对象无法读写伪元素的样式，这时就要用到<code>window.getComputedStyle()</code>。</strong>JavaScript 获取伪元素，可以使用下面的方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test = <span class="built_in">document</span>.querySelector(<span class="string">'#test'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = <span class="built_in">window</span>.getComputedStyle(test, <span class="string">':before'</span>).content;</span><br><span class="line"><span class="keyword">var</span> color = <span class="built_in">window</span>.getComputedStyle(test, <span class="string">':before'</span>).color;</span><br></pre></td></tr></table></figure>
<p>等同于：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="built_in">window</span>.getComputedStyle(test, <span class="string">':before'</span>)</span><br><span class="line">  .getPropertyValue(<span class="string">'content'</span>);</span><br><span class="line"><span class="keyword">var</span> color = <span class="built_in">window</span>.getComputedStyle(test, <span class="string">':before'</span>)</span><br><span class="line">  .getPropertyValue(<span class="string">'color'</span>);</span><br></pre></td></tr></table></figure>
<h1 id="StyleSheet接口"><a href="#StyleSheet接口" class="headerlink" title="StyleSheet接口"></a>StyleSheet接口</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><strong><code>StyleSheet</code>接口代表网页的一张样式表，包括<code>&lt;link&gt;</code>元素加载的样式表和<code>&lt;style&gt;</code>元素内嵌的样式表。</strong></p>
<p><strong><u><code>document</code>对象的<code>styleSheets</code>属性，可以返回当前页面的所有<code>StyleSheet</code>实例（即所有样式表）。它是一个类似数组的对象。</u></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sheets = <span class="built_in">document</span>.styleSheets;</span><br><span class="line"><span class="keyword">var</span> sheet = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>];</span><br><span class="line">sheet <span class="keyword">instanceof</span> StyleSheet <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><strong>如果是<code>&lt;style&gt;</code>元素嵌入的样式表，还有另一种获取<code>StyleSheet</code>实例的方法，就是这个节点元素的<code>sheet</code>属性。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码为 &lt;style id="myStyle"&gt;&lt;/style&gt;</span></span><br><span class="line"><span class="keyword">var</span> myStyleSheet = <span class="built_in">document</span>.getElementById(<span class="string">'myStyle'</span>).sheet;</span><br><span class="line">myStyleSheet <span class="keyword">instanceof</span> StyleSheet <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="实例属性"><a href="#实例属性" class="headerlink" title="实例属性"></a>实例属性</h2><h3 id="（1）StyleSheet-disabled：返回一个布尔值，表示该样式表是否处于禁用状态。"><a href="#（1）StyleSheet-disabled：返回一个布尔值，表示该样式表是否处于禁用状态。" class="headerlink" title="（1）StyleSheet.disabled：返回一个布尔值，表示该样式表是否处于禁用状态。"></a><strong>（1）StyleSheet.disabled</strong>：返回一个布尔值，表示该样式表是否处于禁用状态。</h3><p><strong>手动设置<code>disabled</code>属性为<code>true</code>，等同于在<code>&lt;link&gt;</code>元素里面，将这张样式表设为<code>alternate stylesheet</code>，即该样式表将不会生效。</strong></p>
<h3 id="2）Stylesheet-href返回样式表的网址。对于内嵌样式表，该属性返回null。该属性只读。"><a href="#2）Stylesheet-href返回样式表的网址。对于内嵌样式表，该属性返回null。该属性只读。" class="headerlink" title="(2）Stylesheet.href返回样式表的网址。对于内嵌样式表，该属性返回null。该属性只读。"></a><strong>(2）Stylesheet.href</strong>返回样式表的网址。对于内嵌样式表，该属性返回<code>null</code>。该属性只读。</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].href</span><br></pre></td></tr></table></figure>
<h3 id="（3）StyleSheet-media-属性返回一个类似数组的对象（MediaList实例），成员是表示适用媒介的字符串。"><a href="#（3）StyleSheet-media-属性返回一个类似数组的对象（MediaList实例），成员是表示适用媒介的字符串。" class="headerlink" title="（3）StyleSheet.media:属性返回一个类似数组的对象（MediaList实例），成员是表示适用媒介的字符串。"></a><strong>（3）StyleSheet.media</strong>:属性返回一个类似数组的对象（<code>MediaList</code>实例），成员是表示适用媒介的字符串。</h3><p>表示当前样式表是用于屏幕（screen），还是用于打印（print）或手持设备（handheld），或各种媒介都适用（all）。该属性只读，默认值是<code>screen</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].media.mediaText</span><br><span class="line"><span class="comment">// "all"</span></span><br></pre></td></tr></table></figure>
<p><code>MediaList</code>实例的<code>appendMedium</code>方法，用于增加媒介；<code>deleteMedium</code>方法用于删除媒介。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].media.appendMedium(<span class="string">'handheld'</span>);</span><br><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].media.deleteMedium(<span class="string">'print'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="4-StyleSheet-title-属性返回样式表的title属性。"><a href="#4-StyleSheet-title-属性返回样式表的title属性。" class="headerlink" title="(4) StyleSheet.title :属性返回样式表的title属性。"></a>(4) <strong>StyleSheet.title</strong> :属性返回样式表的<code>title</code>属性。</h3><h3 id="（5）StyleSheet-type-属性返回样式表的type属性，通常是text-css。"><a href="#（5）StyleSheet-type-属性返回样式表的type属性，通常是text-css。" class="headerlink" title="（5）StyleSheet.type  属性返回样式表的type属性，通常是text/css。"></a><strong>（5）StyleSheet.type  </strong>属性返回样式表的<code>type</code>属性，通常是<code>text/css</code>。</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].type  <span class="comment">// "text/css"</span></span><br></pre></td></tr></table></figure>
<h3 id="（6）StyleSheet-parentStyleSheet"><a href="#（6）StyleSheet-parentStyleSheet" class="headerlink" title="（6）StyleSheet.parentStyleSheet"></a><strong>（6）StyleSheet.parentStyleSheet</strong></h3><p>CSS 的@import命令允许在样式表中加载其他样式表。</p>
<p><code>StyleSheet.parentStyleSheet</code>属性返回包含了当前样式表的那张样式表。<strong>如果当前样式表是顶层样式表，则该属性返回<code>null</code>。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (stylesheet.parentStyleSheet) &#123;</span><br><span class="line">  sheet = stylesheet.parentStyleSheet;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  sheet = stylesheet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="（7）StyleSheet-ownerNode-返回StyleSheet对象所在的-DOM-节点，通常是-或-。"><a href="#（7）StyleSheet-ownerNode-返回StyleSheet对象所在的-DOM-节点，通常是-或-。" class="headerlink" title="（7）StyleSheet.ownerNode:返回StyleSheet对象所在的 DOM 节点，通常是\或\。"></a><strong>（7）StyleSheet.ownerNode</strong>:返回StyleSheet对象所在的 DOM 节点，通常是\<link>或\<style>。</h3><p>对于那些由其他样式表引用的样式表，该属性为<code>null</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML代码为</span></span><br><span class="line"><span class="comment">// &lt;link rel="StyleSheet" href="example.css" type="text/css" /&gt;</span></span><br><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].ownerNode <span class="comment">// [object HTMLLinkElement]</span></span><br></pre></td></tr></table></figure>
<h3 id="8）-StyleSheet-cssRules：指向一个类似数组的对象（CSSRuleList实例），里面每一个成员就是当前样式表的一条-CSS-规则"><a href="#8）-StyleSheet-cssRules：指向一个类似数组的对象（CSSRuleList实例），里面每一个成员就是当前样式表的一条-CSS-规则" class="headerlink" title="(8） StyleSheet.cssRules：指向一个类似数组的对象（CSSRuleList实例），里面每一个成员就是当前样式表的一条 CSS 规则"></a><strong>(8） StyleSheet.cssRules</strong>：指向一个类似数组的对象（<code>CSSRuleList</code>实例），里面每一个成员就是当前样式表的一条 CSS 规则</h3><p>使用该规则的<code>cssText</code>属性，可以得到 CSS 规则对应的字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sheet = <span class="built_in">document</span>.querySelector(<span class="string">'#styleElement'</span>).sheet;</span><br><span class="line"></span><br><span class="line">sheet.cssRules[<span class="number">0</span>].cssText</span><br><span class="line"><span class="comment">// "body &#123; background-color: red; margin: 20px; &#125;"</span></span><br><span class="line"></span><br><span class="line">sheet.cssRules[<span class="number">1</span>].cssText</span><br><span class="line"><span class="comment">// "p &#123; line-height: 1.4em; color: blue; &#125;"</span></span><br></pre></td></tr></table></figure>
<p><strong>每条 CSS 规则还有一个<code>style</code>属性，指向一个对象，用来读写具体的 CSS 命令。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">styleSheet.cssRules[<span class="number">0</span>].style.color = <span class="string">'red'</span>;</span><br><span class="line">styleSheet.cssRules[<span class="number">1</span>].style.color = <span class="string">'purple'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="9-StyleSheet-ownerRule"><a href="#9-StyleSheet-ownerRule" class="headerlink" title="(9)StyleSheet.ownerRule"></a><strong>(9)StyleSheet.ownerRule</strong></h3><p>有些样式表是通过<code>@import</code>规则输入的，它的<code>ownerRule</code>属性会返回一个<code>CSSRule</code>实例，代表那行<code>@import</code>规则。如果当前样式表不是通过<code>@import</code>引入的，<code>ownerRule</code>属性返回<code>null</code>。</p>
<h2 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h2><h3 id="（1）CSSStyleSheet-insertRule-：方法用于在当前样式表的插入一个新的-CSS-规则"><a href="#（1）CSSStyleSheet-insertRule-：方法用于在当前样式表的插入一个新的-CSS-规则" class="headerlink" title="（1）CSSStyleSheet.insertRule()：方法用于在当前样式表的插入一个新的 CSS 规则"></a><strong>（1）CSSStyleSheet.insertRule()</strong>：方法用于在当前样式表的插入一个新的 CSS 规则</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sheet = <span class="built_in">document</span>.querySelector(<span class="string">'#styleElement'</span>).sheet;</span><br><span class="line">sheet.insertRule(<span class="string">'#block &#123; color: white &#125;'</span>, <span class="number">0</span>);</span><br><span class="line">sheet.insertRule(<span class="string">'p &#123; color: red &#125;'</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p><strong>该方法可以接受两个参数，<u>第一个参数是表示 CSS 规则的字符串，这里只能有一条规则，否则会报错。第二个参数是该规则在样式表的插入位置（从0开始）</u>，该参数可选，默认为0（即默认插在样式表的头部）</strong>。<strong><u>注意，如果插入位置大于现有规则的数目，会报错。</u></strong></p>
<p>该方法的返回值是新插入规则的位置序号。</p>
<p>注意，浏览器对脚本在样式表里面插入规则有很多<a href="https://drafts.csswg.org/cssom/#insert-a-css-rule">限制</a>。所以，这个方法最好放在<code>try...catch</code>里使用。</p>
<h3 id="（2）CSSStyleSheet-deleteRule"><a href="#（2）CSSStyleSheet-deleteRule" class="headerlink" title="（2）CSSStyleSheet.deleteRule()"></a><strong>（2）CSSStyleSheet.deleteRule()</strong></h3><p><strong><code>CSSStyleSheet.deleteRule</code>方法用来在样式表里面移除一条规则，它的参数是该条规则在<code>cssRules</code>对象中的位置。该方法没有返回值。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.styleSheets[<span class="number">0</span>].deleteRule(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<h1 id="实例：添加样式表"><a href="#实例：添加样式表" class="headerlink" title="实例：添加样式表"></a>实例：添加样式表</h1><p>网页添加样式表有两种方式。一种是添加一张内置样式表，即在文档中添加一个<code>&lt;style&gt;</code>节点。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 写法一</span></span><br><span class="line"><span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>);</span><br><span class="line">style.setAttribute(<span class="string">'media'</span>, <span class="string">'screen'</span>);</span><br><span class="line">style.innerHTML = <span class="string">'body&#123;color:red&#125;'</span>;</span><br><span class="line"><span class="built_in">document</span>.head.appendChild(style);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法二</span></span><br><span class="line"><span class="keyword">var</span> style = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>);</span><br><span class="line">  <span class="built_in">document</span>.head.appendChild(style);</span><br><span class="line">  <span class="keyword">return</span> style;</span><br><span class="line">&#125;)();</span><br><span class="line">style.sheet.insertRule(<span class="string">'.foo&#123;color:red;&#125;'</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>另一种是添加外部样式表，即在文档中添加一个<code>&lt;link&gt;</code>节点，然后将<code>href</code>属性指向外部样式表的 URL。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> linkElm = <span class="built_in">document</span>.createElement(<span class="string">'link'</span>);</span><br><span class="line">linkElm.setAttribute(<span class="string">'rel'</span>, <span class="string">'stylesheet'</span>);</span><br><span class="line">linkElm.setAttribute(<span class="string">'type'</span>, <span class="string">'text/css'</span>);</span><br><span class="line">linkElm.setAttribute(<span class="string">'href'</span>, <span class="string">'reset-min.css'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.head.appendChild(linkElm);</span><br></pre></td></tr></table></figure>
<h1 id="CSSRuleList接口：是一个类似数组的对象，表示一组-CSS-规则，成员都是-CSSRule-实例。"><a href="#CSSRuleList接口：是一个类似数组的对象，表示一组-CSS-规则，成员都是-CSSRule-实例。" class="headerlink" title="CSSRuleList接口：是一个类似数组的对象，表示一组 CSS 规则，成员都是 CSSRule 实例。"></a>CSSRuleList接口：是一个类似数组的对象，表示一组 CSS 规则，成员都是 CSSRule 实例。</h1><p>获取 CSSRuleList 实例，一般是通过StyleSheet.cssRules属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码如下</span></span><br><span class="line"><span class="comment">// &lt;style id="myStyle"&gt;</span></span><br><span class="line"><span class="comment">//   h1 &#123; color: red; &#125;</span></span><br><span class="line"><span class="comment">//   p &#123; color: blue; &#125;</span></span><br><span class="line"><span class="comment">// &lt;/style&gt;</span></span><br><span class="line"><span class="keyword">var</span> myStyleSheet = <span class="built_in">document</span>.getElementById(<span class="string">'myStyle'</span>).sheet;</span><br><span class="line"><span class="keyword">var</span> crl = myStyleSheet.cssRules;</span><br><span class="line">crl <span class="keyword">instanceof</span> CSSRuleList <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><strong>CSSRuleList 实例里面，<u>每一条规则（CSSRule 实例）可以通过<code>rules.item(index)</code>或者<code>rules[index]</code>拿到。</u>CSS 规则的条数通过<code>rules.length</code>拿到</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crl[<span class="number">0</span>] <span class="keyword">instanceof</span> CSSRule <span class="comment">// true</span></span><br><span class="line">crl.length <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p><strong>注意，添加规则和删除规则不能在 CSSRuleList 实例操作，而要在它的父元素 StyleSheet 实例上，通过<code>StyleSheet.insertRule()</code>和<code>StyleSheet.deleteRule()</code>操作。</strong></p>
<h1 id="CSSRule接口"><a href="#CSSRule接口" class="headerlink" title="CSSRule接口"></a>CSSRule接口</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><p>一条 CSS 规则包括两个部分：CSS 选择器和样式声明。</p>
<p>JavaScript 通过 CSSRule 接口操作 CSS 规则。一般通过 CSSRuleList 接口（<code>StyleSheet.cssRules</code>）获取 CSSRule 实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码如下</span></span><br><span class="line"><span class="comment">// &lt;style id="myStyle"&gt;</span></span><br><span class="line"><span class="comment">//   .myClass &#123;</span></span><br><span class="line"><span class="comment">//     color: red;</span></span><br><span class="line"><span class="comment">//     background-color: yellow;</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &lt;/style&gt;</span></span><br><span class="line"><span class="keyword">var</span> myStyleSheet = <span class="built_in">document</span>.getElementById(<span class="string">'myStyle'</span>).sheet;</span><br><span class="line"><span class="keyword">var</span> ruleList = myStyleSheet.cssRules;</span><br><span class="line"><span class="keyword">var</span> rule = ruleList[<span class="number">0</span>];</span><br><span class="line">rule <span class="keyword">instanceof</span> CSSRule <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="CSSRule实例的属性"><a href="#CSSRule实例的属性" class="headerlink" title="CSSRule实例的属性"></a>CSSRule实例的属性</h2><h3 id="（1）CSSRule-cssText"><a href="#（1）CSSRule-cssText" class="headerlink" title="（1）CSSRule.cssText"></a><strong>（1）CSSRule.cssText</strong></h3><p><strong><code>CSSRule.cssText</code>属性返回当前规则的文本</strong></p>
<p>还是使用上面的例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rule.cssText</span><br><span class="line"><span class="comment">// ".myClass &#123; color: red; background-color: yellow; &#125;"</span></span><br></pre></td></tr></table></figure>
<p>如果规则是加载（<code>@import</code>）其他样式表，<code>cssText</code>属性返回<code>@import &#39;url&#39;</code>。</p>
<h3 id="2）CSSRule-parentStyleSheet-返回当前规则所在的样式表对象（StyleSheet-实例）"><a href="#2）CSSRule-parentStyleSheet-返回当前规则所在的样式表对象（StyleSheet-实例）" class="headerlink" title="(2）CSSRule.parentStyleSheet:返回当前规则所在的样式表对象（StyleSheet 实例）"></a><strong>(2）CSSRule.parentStyleSheet</strong>:返回当前规则所在的<u>样式表对象（StyleSheet 实例）</u></h3><p>还是使用上面的例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rule.parentStyleSheet === myStyleSheet <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="（3）CSSRule-parentRule-返回包含当前规则的父规则，如果不存在父规则（即当前规则是顶层规则），则返回null。"><a href="#（3）CSSRule-parentRule-返回包含当前规则的父规则，如果不存在父规则（即当前规则是顶层规则），则返回null。" class="headerlink" title="（3）CSSRule.parentRule:返回包含当前规则的父规则，如果不存在父规则（即当前规则是顶层规则），则返回null。"></a><strong>（3）CSSRule.parentRule</strong>:返回包含当前规则的父规则，如果不存在父规则（即当前规则是顶层规则），则返回null。</h3><p>父规则最常见的情况是，当前规则包含在<code>@media</code>规则代码块之中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码如下</span></span><br><span class="line"><span class="comment">// &lt;style id="myStyle"&gt;</span></span><br><span class="line"><span class="comment">//   @supports (display: flex) &#123;</span></span><br><span class="line"><span class="comment">//     @media screen and (min-width: 900px) &#123;</span></span><br><span class="line"><span class="comment">//       article &#123;</span></span><br><span class="line"><span class="comment">//         display: flex;</span></span><br><span class="line"><span class="comment">//       &#125;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//  &#125;</span></span><br><span class="line"><span class="comment">// &lt;/style&gt;</span></span><br><span class="line"><span class="keyword">var</span> myStyleSheet = <span class="built_in">document</span>.getElementById(<span class="string">'myStyle'</span>).sheet;</span><br><span class="line"><span class="keyword">var</span> ruleList = myStyleSheet.cssRules;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rule0 = ruleList[<span class="number">0</span>];</span><br><span class="line">rule0.cssText</span><br><span class="line"><span class="comment">// "@supports (display: flex) &#123;</span></span><br><span class="line"><span class="comment">//    @media screen and (min-width: 900px) &#123;</span></span><br><span class="line"><span class="comment">//      article &#123; display: flex; &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">// &#125;"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 由于这条规则内嵌其他规则，</span></span><br><span class="line"><span class="comment">// 所以它有 cssRules 属性，且该属性是 CSSRuleList 实例</span></span><br><span class="line">rule0.cssRules <span class="keyword">instanceof</span> CSSRuleList <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rule1 = rule0.cssRules[<span class="number">0</span>];</span><br><span class="line">rule1.cssText</span><br><span class="line"><span class="comment">// "@media screen and (min-width: 900px) &#123;</span></span><br><span class="line"><span class="comment">//   article &#123; display: flex; &#125;</span></span><br><span class="line"><span class="comment">// &#125;"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rule2 = rule1.cssRules[<span class="number">0</span>];</span><br><span class="line">rule2.cssText</span><br><span class="line"><span class="comment">// "article &#123; display: flex; &#125;"</span></span><br><span class="line"></span><br><span class="line">rule1.parentRule === rule0 <span class="comment">// true</span></span><br><span class="line">rule2.parentRule === rule1 <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="CSSRule-type-返回一个整数值，表示当前规则的类型。"><a href="#CSSRule-type-返回一个整数值，表示当前规则的类型。" class="headerlink" title="CSSRule.type:返回一个整数值，表示当前规则的类型。"></a>CSSRule.type:返回一个整数值，表示当前规则的类型。</h3><ul>
<li>1：普通样式规则（CSSStyleRule 实例）</li>
<li>3：<code>@import</code>规则</li>
<li>4：<code>@media</code>规则（CSSMediaRule 实例）</li>
<li>5：<code>@font-face</code>规则</li>
</ul>
<h2 id="CSSStyleRule-接口"><a href="#CSSStyleRule-接口" class="headerlink" title="CSSStyleRule 接口"></a>CSSStyleRule 接口</h2><p>如果一条 CSS 规则<strong>是普通的样式规则</strong>（不含特殊的 CSS 命令），那么<strong>除了 CSSRule 接口，它还部署了 CSSStyleRule 接口。</strong></p>
<h3 id="相关属性"><a href="#相关属性" class="headerlink" title="相关属性"></a>相关属性</h3><h4 id="（1）CSSStyleRule-selectorText-返回当前规则的选择器。"><a href="#（1）CSSStyleRule-selectorText-返回当前规则的选择器。" class="headerlink" title="（1）CSSStyleRule.selectorText :返回当前规则的选择器。"></a><strong>（1）CSSStyleRule.selectorText</strong> :返回当前规则的选择器。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stylesheet = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>];</span><br><span class="line">stylesheet.cssRules[<span class="number">0</span>].selectorText <span class="comment">// ".myClass"</span></span><br></pre></td></tr></table></figure>
<p>注意，这个属性是可写的。</p>
<h4 id="（2）CSSStyleRule-style"><a href="#（2）CSSStyleRule-style" class="headerlink" title="（2）CSSStyleRule.style"></a><strong>（2）CSSStyleRule.style</strong></h4><p><strong>返回一个对象（CSSStyleDeclaration 实例），<u>代表当前规则的样式声明，也就是选择器后面的大括号里面的部分。</u></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//HTML 代码为</span></span><br><span class="line"><span class="comment">// &lt;style id="myStyle"&gt;</span></span><br><span class="line"><span class="comment">//   p &#123; color: red; &#125;</span></span><br><span class="line"><span class="comment">// &lt;/style&gt;</span></span><br><span class="line"><span class="keyword">var</span> styleSheet = <span class="built_in">document</span>.getElementById(<span class="string">'myStyle'</span>).sheet;</span><br><span class="line">styleSheet.cssRules[<span class="number">0</span>].style <span class="keyword">instanceof</span> CSSStyleDeclaration</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>CSSStyleDeclaration 实例的<code>cssText</code>属性，可以返回所有样式声明，格式为字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">styleSheet.cssRules[<span class="number">0</span>].style.cssText</span><br><span class="line"><span class="comment">// "color: red;"</span></span><br><span class="line">styleSheet.cssRules[<span class="number">0</span>].selectorText</span><br><span class="line"><span class="comment">// "p"</span></span><br></pre></td></tr></table></figure>
<h2 id="CSSMediaRule接口"><a href="#CSSMediaRule接口" class="headerlink" title="CSSMediaRule接口"></a>CSSMediaRule接口</h2><p>如果一条 CSS 规则<strong>是<code>@media</code>代码块，</strong>那么它<strong>除了 CSSRule 接口，还部署了 CSSMediaRule 接口。</strong></p>
<p><strong>该接口主要提供<code>media</code>属性和<code>conditionText</code>属性。前者返回代表<code>@media</code>规则的一个对象（MediaList 实例），后者返回<code>@media</code>规则的生效条件。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HTML 代码如下</span></span><br><span class="line"><span class="comment">// &lt;style id="myStyle"&gt;</span></span><br><span class="line"><span class="comment">//   @media screen and (min-width: 900px) &#123;</span></span><br><span class="line"><span class="comment">//     article &#123; display: flex; &#125;</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &lt;/style&gt;</span></span><br><span class="line"><span class="keyword">var</span> styleSheet = <span class="built_in">document</span>.getElementById(<span class="string">'myStyle'</span>).sheet;</span><br><span class="line">styleSheet.cssRules[<span class="number">0</span>] <span class="keyword">instanceof</span> CSSMediaRule</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">styleSheet.cssRules[<span class="number">0</span>].media</span><br><span class="line"><span class="comment">//  &#123;</span></span><br><span class="line"><span class="comment">//    0: "screen and (min-width: 900px)",</span></span><br><span class="line"><span class="comment">//    appendMedium: function,</span></span><br><span class="line"><span class="comment">//    deleteMedium: function,</span></span><br><span class="line"><span class="comment">//    item: function,</span></span><br><span class="line"><span class="comment">//    length: 1,</span></span><br><span class="line"><span class="comment">//    mediaText: "screen and (min-width: 900px)"</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">styleSheet.cssRules[<span class="number">0</span>].conditionText</span><br><span class="line"><span class="comment">// "screen and (min-width: 900px)"</span></span><br></pre></td></tr></table></figure>
<h1 id="window-matchMedia-方法用来将-CSS-的MediaQuery条件语句，转换成一个-MediaQueryList-实例。"><a href="#window-matchMedia-方法用来将-CSS-的MediaQuery条件语句，转换成一个-MediaQueryList-实例。" class="headerlink" title="window.matchMedia():方法用来将 CSS 的MediaQuery条件语句，转换成一个 MediaQueryList 实例。"></a>window.matchMedia():方法用来将 CSS 的MediaQuery条件语句，转换成一个 MediaQueryList 实例。</h1><p>注意，如果参数不是有效的<code>MediaQuery</code>条件语句，<code>window.matchMedia</code>不会报错，依然返回的一个 MediaQueryList 实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.matchMedia(<span class="string">'bad string'</span>) <span class="keyword">instanceof</span> MediaQueryList <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h2 id="MediaQueryList-接口的实例属性"><a href="#MediaQueryList-接口的实例属性" class="headerlink" title="MediaQueryList 接口的实例属性"></a>MediaQueryList 接口的实例属性</h2><h3 id="（1）MediaQueryList-media-属性返回一个字符串，表示对应的-MediaQuery-条件语句"><a href="#（1）MediaQueryList-media-属性返回一个字符串，表示对应的-MediaQuery-条件语句" class="headerlink" title="（1）MediaQueryList.media:属性返回一个字符串，表示对应的 MediaQuery 条件语句"></a><strong>（1）MediaQueryList.media</strong>:属性返回一个字符串，表示对应的 MediaQuery 条件语句</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mql = <span class="built_in">window</span>.matchMedia(<span class="string">'(min-width: 400px)'</span>);</span><br><span class="line">mql.media <span class="comment">// "(min-width: 400px)"</span></span><br></pre></td></tr></table></figure>
<h3 id="（2）MediaQueryList-matches-返回一个布尔值，表示当前页面是否符合指定的-MediaQuery-条件语句。"><a href="#（2）MediaQueryList-matches-返回一个布尔值，表示当前页面是否符合指定的-MediaQuery-条件语句。" class="headerlink" title="（2）MediaQueryList.matches:返回一个布尔值，表示当前页面是否符合指定的 MediaQuery 条件语句。"></a><strong>（2）MediaQueryList.matches</strong>:返回一个布尔值，表示当前页面是否符合指定的 MediaQuery 条件语句。</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.matchMedia(<span class="string">'(min-width: 400px)'</span>).matches) &#123;</span><br><span class="line">  <span class="comment">/* 当前视口不小于 400 像素 */</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">/* 当前视口小于 400 像素 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面的例子根据<code>mediaQuery</code>是否匹配当前环境，加载相应的 CSS 样式表。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="built_in">window</span>.matchMedia(<span class="string">"(max-width: 700px)"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (result.matches)&#123;</span><br><span class="line">  <span class="keyword">var</span> linkElm = <span class="built_in">document</span>.createElement(<span class="string">'link'</span>);</span><br><span class="line">  linkElm.setAttribute(<span class="string">'rel'</span>, <span class="string">'stylesheet'</span>);</span><br><span class="line">  linkElm.setAttribute(<span class="string">'type'</span>, <span class="string">'text/css'</span>);</span><br><span class="line">  linkElm.setAttribute(<span class="string">'href'</span>, <span class="string">'small.css'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.head.appendChild(linkElm);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="（3）MediaQueryList-onchange"><a href="#（3）MediaQueryList-onchange" class="headerlink" title="（3）MediaQueryList.onchange"></a><strong>（3）MediaQueryList.onchange</strong></h3><p>如果 MediaQuery 条件语句的适配环境发生变化，会触发<code>change</code>事件。<code>MediaQueryList.onchange</code>属性用来指定<code>change</code>事件的监听函数。该函数的参数是<code>change</code>事件对象（MediaQueryListEvent 实例），该对象与 MediaQueryList 实例类似，也有<code>media</code>和<code>matches</code>属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mql = <span class="built_in">window</span>.matchMedia(<span class="string">'(max-width: 600px)'</span>);</span><br><span class="line"></span><br><span class="line">mql.onchange = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (e.matches) &#123;</span><br><span class="line">    <span class="comment">/* 视口不超过 600 像素 */</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">/* 视口超过 600 像素 */</span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>change</code>事件发生后，存在两种可能。一种是显示宽度从700像素以上变为以下，另一种是从700像素以下变为以上，所以在监听函数内部要判断一下当前是哪一种情况</p>
<h2 id="MediaQueryList-接口的实例方法"><a href="#MediaQueryList-接口的实例方法" class="headerlink" title="MediaQueryList 接口的实例方法"></a>MediaQueryList 接口的实例方法</h2><p>MediaQueryList 实例有两个方法<code>MediaQueryList.addListener()</code>和<code>MediaQueryList.removeListener()</code>，用来为<code>change</code>事件添加或撤销监听函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mql = <span class="built_in">window</span>.matchMedia(<span class="string">'(max-width: 600px)'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 指定监听函数</span></span><br><span class="line">mql.addListener(mqCallback);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 撤销监听函数</span></span><br><span class="line">mql.removeListener(mqCallback);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mqCallback</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (e.matches) &#123;</span><br><span class="line">    <span class="comment">/* 视口不超过 600 像素 */</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">/* 视口超过 600 像素 */</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="CSS事件"><a href="#CSS事件" class="headerlink" title="CSS事件"></a>CSS事件</h1><h2 id="transitionEnd事件"><a href="#transitionEnd事件" class="headerlink" title="transitionEnd事件"></a>transitionEnd事件</h2><p>CSS的过渡效果（transition）结束后，触发<code>transitionEnd</code>事件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">el.addEventListener(<span class="string">'transitionend'</span>, onTransitionEnd, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onTransitionEnd</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Transition end'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>transitionEnd</code>的事件对象具有以下属性。</p>
<ul>
<li><code>propertyName</code>：发生<code>transition</code>效果的CSS属性名。</li>
<li><code>elapsedTime</code>：<code>transition</code>效果持续的秒数，不含<code>transition-delay</code>的时间。</li>
<li><code>pseudoElement</code>：如果<code>transition</code>效果发生在伪元素，会返回该伪元素的名称，以“::”开头。如果不发生在伪元素上，则返回一个空字符串。</li>
</ul>
<p>实际使用<code>transitionend</code>事件时，可能需要添加浏览器前缀。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">el.addEventListener(<span class="string">'webkitTransitionEnd'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    el.style.transition = <span class="string">'none'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="animationstart事件，animationend事件，animationiteration事件"><a href="#animationstart事件，animationend事件，animationiteration事件" class="headerlink" title="animationstart事件，animationend事件，animationiteration事件"></a>animationstart事件，animationend事件，animationiteration事件</h2><ul>
<li>animationstart事件：动画开始时触发。</li>
<li>animationend事件：动画结束时触发。</li>
<li>animationiteration事件：开始新一轮动画循环时触发。如果animation-iteration-count属性等于1，该事件不触发，即只播放一轮的CSS动画，不会触发animationiteration事件。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">div.addEventListener(<span class="string">'animationiteration'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'完成一次动画'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>这三个事件的事件对象，都有animationName属性（返回产生过渡效果的CSS属性名）和elapsedTime属性（动画已经运行的秒数）。</strong>对于animationstart事件，elapsedTime属性等于0，除非animation-delay属性等于负值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(<span class="string">"animation"</span>);</span><br><span class="line"></span><br><span class="line">el.addEventListener(<span class="string">"animationstart"</span>, listener, <span class="literal">false</span>);</span><br><span class="line">el.addEventListener(<span class="string">"animationend"</span>, listener, <span class="literal">false</span>);</span><br><span class="line">el.addEventListener(<span class="string">"animationiteration"</span>, listener, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">listener</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">  <span class="keyword">switch</span>(e.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"animationstart"</span>:</span><br><span class="line">      li.innerHTML = <span class="string">"Started: elapsed time is "</span> + e.elapsedTime;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"animationend"</span>:</span><br><span class="line">      li.innerHTML = <span class="string">"Ended: elapsed time is "</span> + e.elapsedTime;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"animationiteration"</span>:</span><br><span class="line">      li.innerHTML = <span class="string">"New loop started at time "</span> + e.elapsedTime;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">"output"</span>).appendChild(li);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码的运行结果是下面的样子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Started: elapsed time is 0</span><br><span class="line">New loop started at time 3.01200008392334</span><br><span class="line">New loop started at time 6.00600004196167</span><br><span class="line">Ended: elapsed time is 9.234000205993652</span><br></pre></td></tr></table></figure>
<p>animation-play-state属性可以控制动画的状态（暂停/播放），该属性需求加上浏览器前缀。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">element.style.webkitAnimationPlayState = <span class="string">"paused"</span>;</span><br><span class="line">element.style.webkitAnimationPlayState = <span class="string">"running"</span>;</span><br></pre></td></tr></table></figure>
</style></h3>
        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2019-08-19T07:01:38.900Z" itemprop="dateUpdated">2019-08-19 15:01:38</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/2019/08/18/JS学习之CSS操作/" target="_blank" rel="external">http://hedroins.github.io/2019/08/18/JS学习之CSS操作/</a>
        
    </div>
    
    <footer>
        <a href="http://hedroins.github.io">
            <img src="/img/avatar.jpg" alt="HeJL">
            HeJL
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css操作/">css操作</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/&title=《JS学习之CSS操作》 — HeJL&pic=http://hedroins.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/&title=《JS学习之CSS操作》 — HeJL&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《JS学习之CSS操作》 — HeJL&url=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/&via=http://hedroins.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2019/08/19/JS学习之Mutation-Observer-API/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">JS学习之Mutation Observer API</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/08/17/JS学习之事件类型5/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">JS学习之事件类型5</h4>
      </a>
    </div>
  
</nav>



    




















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>HeJL &copy; 2015 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/&title=《JS学习之CSS操作》 — HeJL&pic=http://hedroins.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/&title=《JS学习之CSS操作》 — HeJL&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《JS学习之CSS操作》 — HeJL&url=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/&via=http://hedroins.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://hedroins.github.io/2019/08/18/JS学习之CSS操作/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
